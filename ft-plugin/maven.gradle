apply plugin: 'maven'
group = 'com.cloudcare.ft.mobile.sdk.tracker.plugin'

version = '1.0.1-beta01'//当前版本号
def minVersion = '1.0.2-alpha21' //最低支持的 SDK 版本

apply plugin: "com.github.gmazzo.buildconfig"//https://github.com/gmazzo/gradle-buildconfig-plugin

buildConfig {
    forClass(packageName = "com.ft.plugin", className = "BuildConfig"){
        buildConfigField("String", "PLUGIN_VERSION", "\"$version\"")
        buildConfigField("String", "MIN_SDK_VERSION", "\"$minVersion\"")
    }

}

uploadArchives {
    repositories {
        mavenDeployer {
            def username = getDefaultProperties().get("LDAP_ACCOUNT")
            def password = getDefaultProperties().get("LDAP_PWD")
            repository(
                    url: "$maven_publish_url/maven-releases") {
                authentication(userName: username, password: password)
            }
            snapshotRepository(
                    url: "$maven_publish_url/maven-snapshot") {
                authentication(userName: username, password: password)
            }


        }


    }
}


java {
    sourceCompatibility = JavaVersion.VERSION_1_8
    targetCompatibility = JavaVersion.VERSION_1_8
}

